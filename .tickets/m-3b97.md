---
id: m-3b97
status: closed
deps: []
links: []
created: 2026-02-08T04:25:44Z
type: task
priority: 3
assignee: chriskd
---
# Onboarding: mx eval should write self-describing artifacts

`mx eval` is a key "does search work" onboarding step, but it currently only prints to stdout. Add optional artifact writing so runs are reproducible and easy to inspect later.

## Acceptance Criteria

- `mx eval --save` writes a timestamped JSON artifact under `eval/results/`
- `mx eval --out <file>` writes the JSON artifact to a specific file path
- JSON payload includes `meta` (argv, timestamp, dataset path, dataset hash, effective mode/scope/k/strict, best-effort kb_root)
- When `--json` is enabled, stdout remains valid JSON (no extra lines); `meta.artifact_path` is included when an artifact is written

## Notes

**2026-02-08T04:30:28Z**

Implemented `mx eval --save` (timestamped artifact under `eval/results/`) and `mx eval --out <file>` for explicit artifact paths. JSON output now includes `meta` with argv, timestamp, dataset hash, and (best-effort) KB root plus `artifact_path` when written. Added CLI test to assert stdout remains valid JSON and artifact file is written. Files: `src/memex/cli.py`, `tests/test_cli.py`, `kb/reference/cli.md`, `README.md`.
