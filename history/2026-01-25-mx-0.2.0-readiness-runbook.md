# MX 0.2.0 readiness runbook (2026-01-25)

## Environment
- Repo: /srv/fast/code/memex
- CLI: uv run --project /srv/fast/code/memex mx (reports version 0.1.0)
- Temp project: /srv/fast/devbox.voidlabs.local/tmp/tmp.pQOtyFCD8E

## End-to-end journeys (init/add/update/search/publish)
1) Init
   - Command: uv run --project /srv/fast/code/memex mx init
   - Result: created kb/ + .kbconfig
   - Notes: init output suggests --local (unsupported); kb/README.md has no frontmatter, warning on first add
2) Add
   - uv run ... mx add --title="Alpha Note" --tags="test" --category="guides" --content="..."
   - uv run ... mx add --title="Beta Note" --tags="test" --category="guides" --relation "guides/alpha-note.md=related"
   - uv run ... mx add --title="No Category" --tags="test" --content="Body" -> error (category required)
3) Update
   - uv run ... mx patch guides/beta-note.md --find "Linked" --replace "Linked v2"
4) Search
   - uv run ... mx search "alpha" -> guides/alpha-note.md (score 1.00)
5) Typed relations
   - Frontmatter contains relations: block for beta-note
   - uv run ... mx relations guides/beta-note.md --origin relations --json shows edge beta -> alpha
   - uv run ... mx relations-add/remove works on alpha-note
6) Publish
   - uv run ... mx publish -o _site -> error "No KB found to publish" (no .kbcontext)
   - uv run ... mx publish --kb-root ./kb -o _site --base-url /kb -> success (3 entries)
   - Published HTML shows outgoing/incoming relation panels

## Typed relations consistency
- CLI: add + relations-add/remove OK
- Storage: relations persisted in frontmatter
- Publisher: relations rendered in HTML and graph data

## Perf sanity check (project KB, 15 files, ~30M; MEMEX_INDEX_ROOT=/tmp/...)
Timings (single run, seconds):
- reindex (project, --json): 10.082
- search warmup (hybrid, --json): 5.803
- search hybrid: 5.682
- search keyword: 1.523
- search semantic: 6.181
- publish: 0.732
Warnings: kb/reference/chat-gpt-5.2-pro-dense-memory-signals-reference.md missing frontmatter (skipped).

## Docs review highlights
- README + guides reference MEMEX_KB_ROOT and --local; not in current CLI.
- Quick start omits category/primary requirements; mx add fails without --category unless .kbcontext primary.
- Installation docs reference memex-kb[semantic] but no extras defined.
- CLI reference + MCP/AI integration docs are out of sync (missing commands/flags, mention mx context init).

## Follow-up tickets
- m-ee64 Publish should use kb_path from .kbconfig
- m-1549 Fix mx init README frontmatter + invalid --local suggestion
- m-9e71 Add frontmatter or exclude chat-gpt-5.2-pro-dense-memory-signals reference
- m-7752 Fix scoped typed-relations handling (indexing/publish/neighbor expansion)
- m-5d67 Bump package/CLI version to 0.2.0
- m-0848 Docs: fix README + Quick Start scope/env/category guidance
- m-8390 Docs: align installation guidance with semantic deps/extras
- m-766b Docs: update CLI reference + relations graph docs
- m-ffb9 Docs: align MCP setup + AI integration with actual CLI
- m-5b1a Add perf sanity script for reindex/search/publish
- m-4c9c Investigate semantic/hybrid search startup latency
